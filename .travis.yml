sudo: required
branches:
    only:
    - master
    - development
addons:
  chrome: stable
language: node_js
before_script:
  - npm install -g @angular/cli
node_js:
- node
script:
- npm run test-ci
- npm run build-ci
before_deploy:
  - cd dist/ngx-aircal
deploy:
  provider: npm
  email: chris.swarb@gmail.com
  skip_cleanup: true
  github_token: $GITHUB_TOKEN
  on:
    tags: true
    repo: cswarb/ngx-aircal